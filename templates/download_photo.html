{% extends "base.html" %}
{% block title %}Your Photo is Ready{% endblock %}

{% block content %}
<div class="min-h-[60vh] grid place-items-center">
  <section class="w-full max-w-lg rounded-2xl bg-white shadow p-6"
           x-data="{ copied:false }">
    <header class="mb-4">
      <h1 class="text-xl font-semibold flex items-center gap-2">
        <span class="text-2xl"></span>Your Photo is Ready
      </h1>
      <p class="text-sm text-gray-500">Preview below, then download or open the file.</p>
    </header>

    <div class="rounded-lg overflow-hidden border bg-gray-50">
      <img src="{{ url_for('download', filename=filename) }}"
           alt="Generated photo"
           class="w-full h-auto block" />
    </div>

    <div class="mt-5 grid gap-3 sm:grid-cols-3">
      <a class="px-4 py-2 rounded-lg bg-black text-white text-center"
         href="{{ url_for('download', filename=filename) }}"
         download>
        Download
      </a>
      <button type="button"
              class="px-4 py-2 rounded-lg border text-center"
              @click="navigator.clipboard.writeText('{{ url_for('download', filename=filename) }}'); copied=true; setTimeout(()=>copied=false,1200)">
        <span x-show="!copied">Copy Link</span>
        <span x-show="copied">Copied ✓</span>
      </button>
    </div>

    <div class="mt-6">
      <a class="text-sm underline text-gray-600" href="/">← Back to Home</a>
    </div>
  </section>
</div>
{% endblock %}
